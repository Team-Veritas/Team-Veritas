<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>코딩 센터 랜딩 페이지</title>
  <link rel="stylesheet" href="styles.css"/>
  <style>
    /* ===== 공통/영역 스타일 ===== */
    body { font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Noto Sans KR", Arial, sans-serif; color:#111; background:#f8fafc; }
    header img.hero { display:block;margin:32px auto 8px auto;max-width:220px;width:60vw;height:auto; }

    .highlight-box {
      background-color: #f2f2f2; padding: 20px; border-radius: 8px; margin: 40px auto;
      text-align: left; width: 90%; max-width: 1000px; font-size: 1.2rem; line-height: 1.8;
    }
    .highlight-box .highlight-section { display:flex; justify-content:space-between; margin-top:30px; flex-wrap:wrap; gap:16px; }
    .highlight-box .highlight-section div {
      background:#fff; padding:20px; border-radius:8px; width:30%; min-width:260px; box-shadow:0 4px 8px rgba(0,0,0,.1);
      font-size:1rem; text-align:left; flex:1;
    }
    .highlight-box span { font-weight:700; color:#4CAF50; }
    .highlight-box .highlight-section div h3 { margin-bottom:10px; color:#333; font-size:1.5rem; }

    /* ===== 코스 카드 ===== */
    .course-card {
      background:#fff; padding:20px; border-radius:8px; width:280px; margin:20px;
      box-shadow:0 4px 8px rgba(0,0,0,.1); text-align:center; cursor:pointer;
      transition:transform .3s ease, box-shadow .3s ease;
    }
    .course-card:hover { transform:scale(1.05); box-shadow:0 8px 16px rgba(0,0,0,.2); }
    .course-card img { width:100%; height:auto; border-radius:8px; margin-bottom:15px; }
    .course-card h3 { font-size:1.2rem; margin-bottom:10px; }
    .course-card p { font-size:1rem; color:#777; }
    .course-card-container {
      display:flex; justify-content:center; flex-wrap:wrap; margin-bottom:40px; gap:32px 24px;
      padding:0 40px; max-width:1200px; margin-left:auto; margin-right:auto;
    }

    /* ===== 팝업 ===== */
    .popup-overlay {
      display:none; position:fixed; inset:0; background:rgba(0,0,0,.5);
      justify-content:center; align-items:center; z-index:1000;
    }
    .popup-content {
      background:#fff; padding:30px; border-radius:8px; width:90%; max-width:900px; text-align:left;
      max-height:92vh; overflow:auto;  /* 모바일에서도 화면 안에서 스크롤 */
    }
    .popup-content h3 { font-size:1.5rem; margin-bottom:20px; }
    .popup-content p { font-size:1rem; color:#333; }
    .popup-close {
      background:#ff4d4d; color:#fff; border:none; padding:10px 15px; border-radius:8px; cursor:pointer; font-size:1rem; margin-top:20px;
    }
    .popup-images { display:flex; flex-direction:row; align-items:flex-start; gap:24px; margin-top:20px; }
    .popup-thumbnails { display:flex; flex-direction:column; gap:12px; }
    .popup-thumbnails img {
      width:100px; height:75px; object-fit:cover; border-radius:8px; cursor:pointer; border:2px solid transparent; transition:border .2s;
    }
    .popup-thumbnails img.selected { border:2px solid #4CAF50; }
    .popup-large-image { width:540px; height:400px; object-fit:contain; border-radius:8px; background:#f8f8f8; max-width:100%; }

    /* ===== 수강 등록 신청서 폼 ===== */
    #enroll { max-width:1000px; margin:40px auto; }
    #enrollForm {
      display:grid; grid-template-columns:1fr 1fr; gap:12px 24px; background:#fff; border:1px solid #e5e7eb;
      border-radius:12px; padding:20px;
    }
    #enrollForm input[type="text"],
    #enrollForm input[type="tel"],
    #enrollForm input[type="date"],
    #enrollForm input[type="email"],
    #enrollForm select,
    #enrollForm textarea {
      width:100%; padding:8px; border:1px solid #ddd; border-radius:8px; font-size:14px;
    }
    #enrollForm fieldset { grid-column:1 / -1; border:1px solid #e5e7eb; border-radius:8px; padding:12px; }
    #enrollForm legend { font-weight:700; }
    #enrollForm .btns { grid-column:1 / -1; display:flex; gap:8px; justify-content:flex-end; margin-top:8px; }
    #btnPreview { padding:10px 14px; border:1px solid #ddd; border-radius:8px; background:#fff; cursor:pointer; }
    #btnPdf { padding:10px 14px; border:none; border-radius:8px; background:#4CAF50; color:#fff; cursor:pointer; }
    #btnPreview[disabled], #btnPdf[disabled] { opacity:.5; cursor:not-allowed; }

    /* ===== 신청 전 안내(1~6) 박스 ===== */
    .notice-card {
      grid-column:1 / -1;
      border:1px dashed #cbd5e1; background:#fafafa; border-radius:10px; padding:14px;
    }
    .notice-card h4 { margin:0 0 8px 0; font-size:14px; }
    .notice-card ol { margin:8px 0 0 18px; font-size:13px; line-height:1.55; color:#333; }
    .agree-line { display:flex; gap:8px; align-items:flex-start; margin-top:10px; font-size:12px; color:#555; }
    #agreeTerms { margin-top:2px; }

    /* ===== PDF 출력 뷰 ===== */
    #printView {
      max-width:790px; margin:0 auto; margin-top:24px; padding:24px; border:1px solid #e5e7eb;
      border-radius:12px; background:#fff; display:none; font-size:14px; line-height:1.6;
    }
    .muted{color:#555; font-size:12px}

    /* ===== 반응형: 모바일 최적화 ===== */
    @media (max-width: 768px) {
      .popup-content { padding:20px; width:94%; }
      .popup-images { flex-direction:column; gap:12px; }
      .popup-large-image { width:100%; height:auto; max-height:50vh; }
      .popup-thumbnails { flex-direction:row; gap:10px; overflow-x:auto; padding-bottom:6px; }
      .popup-thumbnails img {
        width:28vw; aspect-ratio: 4 / 3; height:auto; min-width:120px;  /* 가로 스크롤 썸네일 */
      }
      #enrollForm { grid-template-columns:1fr; }
      .highlight-box .highlight-section { flex-direction:column; }
      .highlight-box .highlight-section div { width:100%; min-width:auto; }
    }
  </style>
</head>
<body>
  <header>
    <img src="images/Robottagram_Logo.png" alt="로보타그램 로고" class="hero">
    <h1 style="text-align:center;font-size:2.5rem;margin-bottom:16px;">로보타그램 에듀케이션 교육과정</h1>
    <img src="images/education-curriculum.png" alt="로보타그램 에듀케이션 교육과정 대표 이미지" style="max-width:100%;height:auto;display:block;margin:0 auto 24px auto;">
    <h1 style="text-align:center;font-size:2rem;margin:0 auto 16px auto;max-width:1000px;">| 우리 아이의 미래를 위한 준비된 자신감 Robottagram에서 키워주세요.</h1>
  </header>

  <!-- 강조 박스 -->
  <section class="highlight-box">
    <p>우리 아이들이 살아가야 하는 미래사회에는 어떠한 상황에도 환경에 잘 적응할 수 있는 <span>회복탄력성</span>이 무엇보다도 중요합니다. 이러한 회복탄력성을 성장시키기 위해서는 <span>Robottagram의 다양한 활동과 PBL 수업을 통한 성공과 실패의 많은 경험들</span>이 필요합니다.</p>
    <div class="highlight-section">
      <div>
        <h3>창작의 과정</h3>
        <p>브릭을 활용한 단순한 <span>창작의 과정</span>을 거쳐 점진적으로 <span>복잡한 구조와 매커니즘</span>을 배워가고 이를 바탕으로 나만의 생각을 확장해갈 수 있습니다.</p>
      </div>
      <div>
        <h3>문제해결과정</h3>
        <p>놀이처럼 재미있는 문제해결 과정을 통해 프로그램의 기초와 <span>코딩스킬</span>을 키워가며 <span>융합적 사고력</span>과 <span>문제해결력</span>을 성장시켜갈 수 있습니다.</p>
      </div>
      <div>
        <h3>포트폴리오 구성</h3>
        <p>다양한 프로젝트 활동을 통해 로봇을 설계, 제작, 알고리즘을 구성하는 경험을 기반으로 <span>나만의 포트폴리오</span>를 구성할 수 있습니다.</p>
      </div>
    </div>
  </section>

  <!-- 교육 과정 카드 -->
  <section id="courses">
    <h2 style="text-align:center;width:100%;margin-bottom:40px;">우리의 교육 과정</h2>
    <div class="course-card-container">
      <div class="course-card" onclick="openPopup('preSchool')">
        <img src="images/pre-school.png" alt="Pre-School">
        <h3>Pre-School</h3>
        <p>초등학생을 위한 기초 코딩과 로봇 제작 과정입니다.</p>
      </div>
      <div class="course-card" onclick="openPopup('juniorCoding')">
        <img src="images/junior-coding.png" alt="주니어 코딩 로봇">
        <h3>주니어 코딩 로봇 과정</h3>
        <p>주니어를 위한 코딩과 로봇 만들기 과정을 제공합니다.</p>
      </div>
      <div class="course-card" onclick="openPopup('seniorCoding')">
        <img src="images/senior-coding.png" alt="시니어 코딩 로봇">
        <h3>시니어 코딩 로봇 과정</h3>
        <p>고급 코딩과 로봇 기술을 배우는 과정입니다.</p>
      </div>
      <div class="course-card" onclick="openPopup('pythonRobot')">
        <img src="images/python-robot.png" alt="파이썬 로봇">
        <h3>파이썬 로봇 과정</h3>
        <p>파이썬을 이용한 로봇 제작과 프로그래밍 과정입니다.</p>
      </div>
      <div class="course-card" onclick="openPopup('portfolio')">
        <img src="images/portfolio.png" alt="포트폴리오">
        <h3>포트폴리오(Portfolio)</h3>
        <p>자신만의 로봇 포트폴리오를 구성하는 과정입니다.</p>
      </div>
    </div>
  </section>

  <!-- 과정 팝업 -->
  <div class="popup-overlay" id="popup-overlay">
    <div class="popup-content" id="popup-content">
      <h3 id="popup-title"></h3>
      <p id="popup-description"></p>
      <div class="popup-images">
        <img id="largeImage" src="images/pre-school1.jpg" alt="큰 이미지" class="popup-large-image">
        <div class="popup-thumbnails" id="thumbs"></div>
      </div>
      <button class="popup-close" onclick="closePopup()">닫기</button>
    </div>
  </div>

  <!-- ===== 수강 등록 신청서 ===== -->
  <section id="enroll">
    <h2 style="text-align:center;margin-bottom:16px;">수강 등록 신청서</h2>

    <form id="enrollForm">
      <div style="grid-column:1 / -1;font-weight:700;font-size:18px;margin-bottom:8px;">
        Learning through Play — Robottagram(로보타그램) 인천캠퍼스 수강 등록 신청서
      </div>

      <label>수강생 성명
        <input type="text" name="studentName" required>
      </label>

      <div>
        <div style="margin-bottom:6px;">성별</div>
        <label style="margin-right:12px;"><input type="radio" name="gender" value="남" required> 남</label>
        <label><input type="radio" name="gender" value="여" required> 여</label>
      </div>

      <label>생년월일 (yyyy.mm.dd)
        <input type="text" name="birth" placeholder="2016.03.15" required>
      </label>

      <label>학부모 성명
        <input type="text" name="parentName" required>
      </label>

      <label>학부모 연락처
        <input type="tel" name="parentPhone" placeholder="010-0000-0000" required>
      </label>

      <label>학교명
        <input type="text" name="school">
      </label>

      <label>학생 연락처
        <input type="tel" name="studentPhone" placeholder="선택">
      </label>

      <label style="grid-column:1 / -1;">집주소
        <input type="text" name="address">
      </label>

      <label style="grid-column:1 / -1;">가입동기
        <textarea name="reason" rows="3"></textarea>
      </label>

      <fieldset>
        <legend>수강과정</legend>
        <label style="margin-right:16px;"><input type="checkbox" name="course" value="STEAM 창의 과정"> STEAM 창의 과정</label>
        <label style="margin-right:16px;"><input type="checkbox" name="course" value="AI코딩로봇-Basic"> AI코딩로봇-Basic</label>
        <label style="margin-right:16px;"><input type="checkbox" name="course" value="AI코딩로봇-Intermediate"> AI코딩로봇-Intermediate</label>
        <label style="margin-right:16px;"><input type="checkbox" name="course" value="AI코딩로봇-Advance"> AI코딩로봇-Advance</label>
        <label style="margin-right:16px;"><input type="checkbox" name="course" value="포트폴리오 과정"> 포트폴리오 과정</label>
      </fieldset>

      <label>담임 교사
        <input type="text" name="teacher">
      </label>

      <label>수업 요일/시간
        <input type="text" name="classTime" placeholder="예: 토 14:00-15:30">
      </label>

      <label>수업 시작일
        <input type="date" name="startDate">
      </label>

      <label style="grid-column:1 / -1;">사진/영상 사용 동의
        <select name="mediaConsent">
          <option value="동의">동의</option>
          <option value="비동의">비동의</option>
        </select>
      </label>

      <label style="grid-column:1 / -1;">학부모 성명(서명)
        <input type="text" name="signature" placeholder="서명 또는 성명 기입">
      </label>

      <!-- 신청 전 1~6항 안내 + 동의 -->
      <div class="notice-card">
        <h4>신청 전 안내 (1~6항 반드시 확인)</h4>
        <ol>
          <li>로보타그램 인천캠퍼스의 수업은 과정별 1년 4학기제(봄, 여름, 가을, 겨울학기)로 구성되며, 한 학기(3개월)당 12회 수업을 기준으로 진행됩니다.</li>
          <li>로보타그램 인천캠퍼스의 수업은 교구로 수업이 진행되므로, 수업에 사용할 교구는 대여 또는 구매합니다. (구매한 경우, 퇴원 후 1년동안 별도의 교구수거 의사가 없을 경우 후배 아이들의 수업을 위한 보조교구로 사용됩니다.)</li>
          <li>부득이하게 결석 시, 정해진 보강주간의 보강수업에만 참여 가능합니다. 학기(3개월) 내의 과정진도와 보강 유효 기간은 그 학기 내에 마무리되며 다음 학기로 이월되지 않습니다. 보강주간의 상세 일정(요일, 시간 등)은 매 학기 시작과 보강주간 2주 전에 공히 안내 드립니다.</li>
          <li>보강주간에 진행되는 보강수업은 학기 내에 진행되는 과정 진도와는 별도로, 담임 교사가 아닌 당직 교사에 의해 보강이 진행될 수 있으며 과정별 연합형태의 수업으로 진행될 수 있습니다.</li>
          <li>각 학기 내 2회 이상 결석하였을 경우라도 최대 2회의 보강까지만 유효하며, 보강주간의 보강수업에 참여하지 못한 경우 해당 수업의 보강은 자연적으로 소멸됩니다. 단, 질병으로 인한 결석 시 진단서 등으로 증명할 경우, 보강을 다음 달로 연기할 수 있습니다.</li>
          <li>수업시간에 촬영된 사진 및 영상 등은 로보타그램의 블로그, 카페, SNS, 인쇄물 등에 사용될 수 있으며 이에 동의합니다.</li>
        </ol>
        <label class="agree-line">
          <input type="checkbox" id="agreeTerms">
          <span>위 1~6항 내용을 모두 읽고 동의합니다. (동의 후 ‘미리보기/ PDF로 저장’ 버튼이 활성화됩니다.)</span>
        </label>
      </div>

      <div class="btns">
        <button type="button" id="btnPreview">미리보기</button>
        <button type="button" id="btnPdf">PDF로 저장</button>
      </div>
    </form>

    <!-- PDF로 캡처될 출력용 뷰 -->
    <div id="printView">
      <div style="font-weight:800;font-size:20px;margin-bottom:8px;">Learning through Play</div>
      <div style="font-weight:700;margin-bottom:14px;">Robottagram(로보타그램) 인천캠퍼스 수강 등록 신청서</div>

      <div style="display:grid;grid-template-columns:1fr 1fr;gap:8px 16px;">
        <div><strong>수강생 성명</strong><br><span data-out="studentName"></span></div>
        <div><strong>성별</strong><br><span data-out="gender"></span> <span class="muted">남 / 여</span></div>
        <div><strong>생년월일</strong><br><span data-out="birth"></span> <span class="muted">(yyyy.mm.dd)</span></div>
        <div><strong>학부모 성명</strong><br><span data-out="parentName"></span></div>
        <div><strong>학부모 연락처</strong><br><span data-out="parentPhone"></span></div>
        <div><strong>학교명</strong><br><span data-out="school"></span></div>
        <div><strong>학생 연락처</strong><br><span data-out="studentPhone"></span></div>
        <div style="grid-column:1 / -1;"><strong>집주소</strong><br><span data-out="address"></span></div>
        <div style="grid-column:1 / -1;"><strong>가입동기</strong><br><span data-out="reason"></span></div>
        <div style="grid-column:1 / -1;"><strong>수강과정</strong><br><span data-out="course"></span></div>
        <div><strong>담임 교사</strong><br><span data-out="teacher"></span></div>
        <div><strong>수업 요일/시간</strong><br><span data-out="classTime"></span></div>
        <div><strong>수업 시작일</strong><br><span data-out="startDate"></span></div>
        <div><strong>사진/영상 사용 동의</strong><br><span data-out="mediaConsent"></span></div>
        <div style="grid-column:1 / -1;margin-top:12px;"><strong>학부모 성명(서명)</strong><br><span data-out="signature"></span></div>
      </div>

      <hr style="margin:16px 0;">
      <div style="font-size:12px;color:#555;">
        ※ 본 신청서의 유의사항(결석/보강, 교구, 촬영물 사용 등)은 안내된 약관(1~6항)에 따릅니다.
      </div>
    </div>
  </section>

  <!-- html2pdf.js CDN -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"
          integrity="sha512-YcsIP3Yp8N6jH7sYQz8u1QH6oA2xB1QwY5H4TgkN8dAzf3s0t3H1e6XkO7z5iB0+Q7qj3m0Z8xZkLwC0Nw4Jxg=="
          crossorigin="anonymous" referrerpolicy="no-referrer"></script>

  <script>
    /* ===== 과정 팝업 데이터 ===== */
    const courses = {
      preSchool: {
        title: "언플러그드 코딩을 통한 논리적 사고력의 향상",
        description: "테마파크와 코딩기차 등을 테마로 <strong>논리적인 사고력과 기초탐구능력, 디지털 활용능력</strong>을 함양하고 발전시킬 수 있습니다.<br><br>다양한 에듀케이션 레고제품들을 이용해 재미있는 실험을 통해 유아들의 STEAM(과학, 기술, 공학, 예술, 수학)능력을 키워갈 수 있고, 스마트한 기차를 이용해 직관적으로 코딩의 기초적인 개념을 이해할 수 있습니다.",
        images: ["images/pre-school1.jpg","images/pre-school2.png","images/pre-school3.png","images/pre-school4.jpeg"]
      },
      juniorCoding: {
        title: "# 컴퓨팅 사고력(CT) 확립과 프로그램의 이해",
        description: `예비 초등에서 초등 저학년 아이들이 기초적인 코딩을 배우기에 가장 효율적인 교육과정으로<br>
재미있는 테마에 맞춰 기초적인 코딩의 방법을 알아보고, <strong>컴퓨팅 사고력(CT)</strong>을 키워갈 수 있습니다.<br><br>
<strong>직관적인 블럭코딩(아이콘, 블럭, 스크래치)</strong>을 통해 아이들이 쉽고 재미있게 프로그램할 수 있으며 센서, 모터를 활용하여 문제를 해결해봄으로써 코딩을 통한 문제해결력의 향상과 디지털 활용능력을 발전시켜갈 수 있습니다.<br><br>
PC, APP(안드로이드, IOS 등)을 통해 <strong>순차제어, 반복문, 조건문, 연산 등을 활용해</strong> <strong>모터를 제어</strong>할 수 있으며 컬러센서를 이용해 주변환경의 변화와 상황을 판단할 수 있고, 라이트매트릭스를 활용해 재미있고 창의적인 표현이 가능합니다.`,
        images: ["images/junior-coding1.jpg","images/junior-coding2.png","images/junior-coding3.jpg","images/junior-coding4.png"]
      },
      seniorCoding: {
        title: "# 로봇을 활용한 피지컬 컴퓨팅사이언스의 시작",
        description: `초등중학년 이상의 아이들이 STEAM활동과 코딩을 배우기에 가장 효율적인 교육과정으로<br>
블럭코딩을 이용해 로봇을 다양하게 제어해봄으로써 <strong>코딩으로 로봇을 제어하는 경험</strong>을 할 수 있고, <strong>순차제어, 조건문, 반복문, 연산 등의 컴퓨팅적 사고력의 개념을 확립</strong>할 수 있습니다.<br><br>
단계별로 주제에 맞춰 컨트롤러(허브), 모터, 센서를 이용해 <strong>AI(로봇)의 개념을 이해하고, 제작</strong>할 수 있습니다. 쉽고 재미있는 로봇을 만들어보고, 센서를 이용함으로써 센서 데이터에 대해 이해할 수 있으며 나만의 프로젝트를 진행할 수 있습니다.`,
        images: ["images/senior-coding1.jpg","images/senior-coding2.png","images/senior-coding3.jpg","images/senior-coding4.jpg","images/senior-coding5.png","images/senior-coding6.png"]
      },
      pythonRobot: {
        title: "파이썬 로봇 과정",
        description: `## # 확장된 로봇제어와 프로젝트 중점의 수업(PBL)<br><br>
대표적인 <strong>텍스트코딩 언어인 파이썬을 이용해 로봇을 다양하게 제어</strong>해봄으로써 텍스트 코딩으로 로봇을 디테일하게 제어하는 경험을 할 수 있고, <strong>데이터의 종류와 흐름, 활용에 대해 쉽게 이해</strong>할 수 있습니다.<br><br>
다양한 개방형 문제를 해결하기 위한 창의적이고 혁신적인 방법을 <strong>팀 또는 개별 프로젝트 베이스 수업(PBL수업)으로 연구하고, 나만의 알고리즘을 구성</strong>할 수 있는 과정입니다.`,
        images: ["images/python-robot1.png","images/python-robot2.jpg","images/python-robot3.jpg","images/python-robot4.jpg"]
      },
      portfolio: {
        title: "포트폴리오(Portfolio)",
        description: `## # 융합적인 사고력의 향상과 개인포트폴리오 구성<br><br>
내가 가진 능력과 경험을 바탕으로 <strong>나만의 문제해결법을 고민하고, 솔루션을 구성하여 구현</strong>할 수 있는 방안을 스스로 찾아볼 수 있습니다. 또한 다양한 오브제와 프로그래밍 언어를 활용하여 문제를 해결함으로써 <strong>하드웨어와 소프트웨어를 모두 제어할 수 있는 융합적인 사고력을 키워갈 수 있습니다.</strong><br><br>
나만의 포트폴리오를 만들기 위한 과정으로 <strong>진학에 유리한 다양한 주제에 대해 연구</strong>합니다. 대회를 위한 미션연구, 환경, 사회적 문제 등에 대한 주제탐구와 머신러닝, 인공지능 등의 개념을 이해할 수 있는 창의적 산출물을 만들어갈 수 있습니다.`,
        images: ["images/portfolio1.png","images/portfolio2.jpg","images/portfolio3.png","images/portfolio4.png"]
      }
    };

    function openPopup(key) {
      const data = courses[key];
      document.getElementById('popup-title').innerHTML = data.title;
      document.getElementById('popup-description').innerHTML = data.description;
      document.getElementById('largeImage').src = data.images[0];

      const thumbs = data.images.map((src, idx) =>
        `<img src="${src}" alt="이미지 ${idx+1}" class="popup-thumb ${idx===0?'selected':''}" onclick="changeLargeImage(this)">`
      ).join('');
      document.getElementById('thumbs').innerHTML = thumbs;

      document.getElementById('popup-overlay').style.display = 'flex';
    }
    function closePopup(){ document.getElementById('popup-overlay').style.display = 'none'; }
    function changeLargeImage(imgElem) {
      document.getElementById('largeImage').src = imgElem.src;
      document.querySelectorAll('.popup-thumb').forEach(el => el.classList.remove('selected'));
      imgElem.classList.add('selected');
    }

    // ===== 신청서 PDF 출력용 값 주입 =====
    function populatePrintView() {
      const form = document.getElementById('enrollForm');
      const get = (name) => form.querySelector(`[name="${name}"]`);
      const getVal = (name) => {
        const el = get(name);
        if (!el) return '';
        if (el.type === 'radio') {
          const checked = form.querySelector(`input[name="${name}"]:checked`);
          return checked ? checked.value : '';
        }
        return el.value || '';
      };

      const mapping = ['studentName','birth','parentName','parentPhone','school','studentPhone','address','reason','teacher','classTime','startDate','mediaConsent','signature'];
      mapping.forEach(key => {
        const out = document.querySelector(`[data-out="${key}"]`);
        if (out) out.textContent = getVal(key);
      });

      const genderChecked = form.querySelector('input[name="gender"]:checked');
      const genderOut = document.querySelector('[data-out="gender"]');
      if (genderOut) genderOut.textContent = genderChecked ? genderChecked.value : '';

      const courseChecked = [...form.querySelectorAll('input[name="course"]:checked')].map(el => el.value);
      const courseOut = document.querySelector('[data-out="course"]');
      if (courseOut) courseOut.textContent = courseChecked.join(', ');
    }

    const btnPreview = document.getElementById('btnPreview');
    const btnPdf = document.getElementById('btnPdf');

    btnPreview.addEventListener('click', () => {
      populatePrintView();
      const pv = document.getElementById('printView');
      pv.style.display = 'block';
      pv.scrollIntoView({ behavior: 'smooth' });
    });

    btnPdf.addEventListener('click', async () => {
      populatePrintView();
      const element = document.getElementById('printView');
      element.style.display = 'block';
      const opt = {
        margin: [10,10,10,10],
        filename: `수강등록신청서_${new Date().toISOString().slice(0,10)}.pdf`,
        image: { type: 'jpeg', quality: 0.98 },
        html2canvas: { scale: 2, useCORS: true },
        jsPDF: { unit: 'mm', format: 'a4', orientation: 'portrait' }
      };
      await html2pdf().set(opt).from(element).save();
    });

    // ===== 동의 체크 전 버튼 비활성화 =====
    const agree = document.getElementById('agreeTerms');
    function setButtons(disabled) {
      btnPreview.disabled = disabled;
      btnPdf.disabled = disabled;
    }
    setButtons(true);
    agree.addEventListener('change', () => setButtons(!agree.checked));
  </script>
</body>
</html>
